<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp AI Concierge - Documentation Technique</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #00d4aa;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
            --dark-color: #343a40;
            --light-color: #f8f9fa;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
        }

        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 100px 0;
            text-align: center;
        }

        .hero-section h1 {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .hero-section .lead {
            font-size: 1.25rem;
            opacity: 0.9;
        }

        .section-card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            transition: transform 0.3s ease;
        }

        .section-card:hover {
            transform: translateY(-5px);
        }

        .section-header {
            background: var(--primary-color);
            color: white;
            padding: 1.5rem;
            border-radius: 15px 15px 0 0;
        }

        .architecture-diagram {
            background: var(--light-color);
            padding: 2rem;
            border-radius: 10px;
            margin: 1rem 0;
        }

        .feature-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .status-badge {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 20px;
        }

        .status-completed {
            background-color: var(--success-color);
            color: white;
        }

        .status-progress {
            background-color: var(--warning-color);
            color: white;
        }

        .status-planned {
            background-color: var(--info-color);
            color: white;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .nav-pills .nav-link {
            color: var(--dark-color);
            border-radius: 25px;
            margin: 0 0.25rem;
            transition: all 0.3s ease;
        }

        .nav-pills .nav-link.active {
            background-color: var(--primary-color);
        }

        .nav-pills .nav-link:hover {
            background-color: rgba(0, 212, 170, 0.1);
        }

        .sidebar {
            position: sticky;
            top: 20px;
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .sidebar .nav-link {
            color: var(--dark-color);
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
            transition: color 0.3s ease;
        }

        .sidebar .nav-link:hover {
            color: var(--primary-color);
            padding-left: 1rem;
        }

        .tech-badge {
            background: var(--info-color);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 15px;
            font-size: 0.8rem;
            margin: 0.25rem;
        }

        .metrics-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
        }

        .metrics-number {
            font-size: 3rem;
            font-weight: bold;
            display: block;
        }

        .flow-diagram {
            max-width: 100%;
            height: auto;
            margin: 2rem 0;
            border: 2px solid var(--primary-color);
            border-radius: 10px;
        }

        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 2rem;
            }
            
            .sidebar {
                position: relative;
                margin-bottom: 2rem;
            }
        }

        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: none;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#overview">
                <i class="fab fa-whatsapp"></i> WhatsApp AI Concierge
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#overview">Aperçu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#architecture">Architecture</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#services">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#api">API</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#database">Base de données</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#deployment">Déploiement</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section" id="overview">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <h1><i class="fab fa-whatsapp"></i> WhatsApp AI Concierge</h1>
                    <p class="lead">Service de messagerie intelligent pour le Service Diocésain de la Catéchèse (SDB)</p>
                    <div class="mt-4">
                        <span class="badge bg-success me-2">Production Ready</span>
                        <span class="badge bg-primary me-2">AI-Powered</span>
                        <span class="badge bg-info me-2">Multi-service</span>
                        <span class="badge bg-warning">Scalable</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container my-5">
        <div class="row">
            <!-- Sidebar Navigation -->
            <div class="col-lg-3">
                <div class="sidebar">
                    <h5><i class="fas fa-compass"></i> Navigation</h5>
                    <nav class="nav flex-column">
                        <a class="nav-link" href="#overview"><i class="fas fa-home"></i> Aperçu</a>
                        <a class="nav-link" href="#architecture"><i class="fas fa-sitemap"></i> Architecture</a>
                        <a class="nav-link" href="#services"><i class="fas fa-cogs"></i> Services IA</a>
                        <a class="nav-link" href="#api"><i class="fas fa-code"></i> API Endpoints</a>
                        <a class="nav-link" href="#database"><i class="fas fa-database"></i> Base de données</a>
                        <a class="nav-link" href="#flows"><i class="fas fa-project-diagram"></i> Flux de données</a>
                        <a class="nav-link" href="#deployment"><i class="fas fa-rocket"></i> Déploiement</a>
                        <a class="nav-link" href="#security"><i class="fas fa-shield-alt"></i> Sécurité</a>
                        <a class="nav-link" href="#monitoring"><i class="fas fa-chart-line"></i> Monitoring</a>
                    </nav>
                </div>
            </div>

            <!-- Main Content Area -->
            <div class="col-lg-9">
                <!-- Architecture Section -->
                <section id="architecture" class="mb-5">
                    <div class="card section-card">
                        <div class="section-header">
                            <h2><i class="fas fa-sitemap"></i> Architecture Technique</h2>
                            <p class="mb-0">Vue d'ensemble de l'architecture système</p>
                        </div>
                        <div class="card-body">
                            <div class="row mb-4">
                                <div class="col-md-6 mb-3">
                                    <div class="text-center">
                                        <i class="feature-icon fas fa-layer-group"></i>
                                        <h5>Architecture Microservices</h5>
                                        <p>Système modulaire avec séparation claire des responsabilités</p>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="text-center">
                                        <i class="feature-icon fas fa-brain"></i>
                                        <h5>IA Orchestration</h5>
                                        <p>Intégration Claude AI pour traitement conversationnel</p>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="text-center">
                                        <i class="feature-icon fas fa-database"></i>
                                        <h5>Base de données</h5>
                                        <p>PostgreSQL avec Supabase et Redis pour le cache</p>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="text-center">
                                        <i class="feature-icon fas fa-mobile-alt"></i>
                                        <h5>WhatsApp Integration</h5>
                                        <p>WAHA SDK pour messagerie bidirectionnelle</p>
                                    </div>
                                </div>
                            </div>

                            <div class="architecture-diagram">
                                <h5 class="text-center mb-3">Architecture Globale</h5>
                                <div class="text-center">
                                    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MDAiIGhlaWdodD0iNDAwIiB2aWV3Qm94PSIwIDAgODAwIDQwMCI+CiAgICA8IS0tIEJhY2tncm91bmQgLS0+CiAgICA8cmVjdCB3aWR0aD0iODAwIiBoZWlnaHQ9IjQwMCIgZmlsbD0iI2Y4ZjlmYSIgc3Ryb2tlPSIjZGRkIiBzdHJva2Utd2lkdGg9IjIiLz4KCiAgICA8IS0tIFdoYXRzQXBwIFVzZXIgLS0+CiAgICA8cmVjdCB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iODAiIGZpbGw9IiMwMGQ0YWEiIHJ4PSIxMCIgc3Ryb2tlPSIjMDA5OTc3IiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDx0ZXh0IHg9IjExMCIgeT0iOTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCI+VXNlcnMgV2hhdHNBcHA8L3RleHQ+CgogICAgPCEtLSBXQUhBIFNlcnZpY2UgLS0+CiAgICA8cmVjdCB4PSIyNTAiIHk9IjUwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjNjY3ZWVhIiByeD0iMTAiIHN0cm9rZT0iIzU1NThmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8dGV4dCB4PSIzMTAiIHk9Ijk1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiPldBSEEgU2VydmljZTwvdGV4dD4KCiAgICA8IS0tIEZhc3RBUEkgQXBwIC0tPgogICAgPHJlY3QgeD0iNDUwIiB5PSI1MCIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI4MCIgZmlsbD0iIzc2NGJhMiIgcng9IjEwIiBzdHJva2U9IiM1MzQ0ODQiIHN0cm9rZS13aWR0aD0iMiIvPgogICAgPHRleHQgeD0iNTEwIiB5PSI5NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0id2hpdGUiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIj5GYXN0QVBJIEFwcDwvdGV4dD4KCiAgICA8IS0tIENsYXVkZSBBSSAtLT4KICAgIDxyZWN0IHg9IjY1MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iODAiIGZpbGw9IiNmZjZiNmIiByeD0iMTAiIHN0cm9rZT0iI2U2NWFjNCIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8dGV4dCB4PSI3MTAiIHk9Ijk1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiPkNsYXVkZSBBSTwvdGV4dD4KCiAgICA8IS0tIFN1cGFiYXNlIC0tPgogICAgPHJlY3QgeD0iMzUwIiB5PSIyMDAiIHdpZHRoPSIxMjAiIGhlaWdodD0iODAiIGZpbGw9IiMwMGQ0YWEiIHJ4PSIxMCIgc3Ryb2tlPSIjMDA5OTc3IiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDx0ZXh0IHg9IjQxMCIgeT0iMjQ1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiPlN1cGFiYXNlPC90ZXh0PgoKICAgIDwhLS0IFJlZGlzIC0tPgogICAgPHJlY3QgeD0iNTAwIiB5PSIyMDAiIHdpZHRoPSIxMjAiIGhlaWdodD0iODAiIGZpbGw9IiNkYzMyNDUiIHJ4PSIxMCIgc3Ryb2tlPSIjYzgyMjI5IiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDx0ZXh0IHg9IjU2MCIgeT0iMjQ1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiPlJlZGlzPC90ZXh0PgoKICAgIDwhLS0IFNEQiBEYXRhIC0tPgogICAgPHJlY3QgeD0iMjUwIiB5PSIyMDAiIHdpZHRoPSIxMjAiIGhlaWdodD0iODAiIGZpbGw9IiM2Yjc1N2QiIHJ4PSIxMCIgc3Ryb2tlPSIjNTY1YTY0IiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDx0ZXh0IHg9IjMxMCIgeT0iMjQ1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiPlNEQiBEYXRhPC90ZXh0PgoKICAgIDwhLS0gQ29vbGlmeSAtLT4KICAgIDxyZWN0IHg9IjQ1MCIgeT0iMzAwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjMjhhNzQ1IiByeD0iMTAiIHN0cm9rZT0iIzE5NzZkMiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8dGV4dCB4PSI1MTAiIHk9IjM0NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0id2hpdGUiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIj5Db29saWZ5PC90ZXh0PgoKICAgIDwhLS0gQXJyb3dzIC0tPgogICAgPCEtLSBXaGF0c0FwcCB0byBXQUhBIC0tPgogICAgPGRlZnM+CiAgICAgICAgPG1hcmtlciBpZD0iYXJyb3doZWFkIiBtYXJrZXJXaWR0aD0iMTAiIG1hcmtlckhlaWdodD0iMTAiIG9yaWVudD0iYXV0byIgcmVmdXh5PSIwLjUiLz4KICAgIDwvZGVmcz4KICAgIDxsaW5lIHgxPSIxNzAiIHkxPSI5MCIgeDI9IjI1MCIgeTI9IjkwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQpIi8+CgogICAgPCEtLSBXQUhBIHRvIEZhc3RBUEkgLS0+CiAgICA8bGluZSB4MT0iMzcwIiB5MT0iOTAiIHgyPSI0NTAiIHkyPSI5MCIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkKSIvPgoKICAgIDwhLS0gRmFzdEFQSSB0byBDbGF1ZGUgLS0+CiAgICA8bGluZSB4MT0iNTcwIiB5MT0iOTAiIHgyPSI2NTAiIHkyPSI5MCIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkKSIvPgoKICAgIDwhLS0gRmFzdEFQSSB0byBTdXBhYmFzZSAtLT4KICAgIDxsaW5lIHg9IjUxMCIgeTE9IjEzMCIgeDI9IjQxMCIgeTI9IjIwMCIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkKSIvPgoKICAgIDwhLS0gRmFzdEFQSSB0byBSZWRpcyAtLT4KICAgIDxsaW5lIHg9IjUxMCIgeTE9IjEzMCIgeDI9IjU2MCIgeTI9IjIwMCIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkKSIvPgoKICAgIDwhLS0gRmFzdEFQSSB0byBTREIgLS0+CiAgICA8bGluZSB4MT0iNTEwIiB5MT0iMTMwIiB4Mj0iMzEwIiB5Mj0iMjAwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQpIi8+CgogICAgPCEtLSBMYWJlbHMgLS0+CiAgICA8dGV4dCB4PSI0MCIgeT0iMzAiIGZpbGw9IiMzMzMiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIj5XaGF0c0FwcCBVc2VyczwvdGV4dD4KICAgIDx0ZXh0IHg9IjI0MCIgeT0iMzAiIGZpbGw9IiMzMzMiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIj5XRUJob29rPC90ZXh0PgogICAgPHRleHQgeD0iNDQwIiB5PSIzMCIgZmlsbD0iIzMzMyIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiPkZhc3RBUEk8L3RleHQ+CiAgICA8dGV4dCB4PSI2NDAiIHk9IjMwIiBmaWxsPSIjMzMzIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCI+Q2xhdWRlIEFJPC90ZXh0PgogICAgPHRleHQgeD0iNDIwIiB5PSIxODAiIGZpbGw9IiMzMzMiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIj5EYXRhYmFzZTwvdGV4dD4KICAgIDx0ZXh0IHg9IjU3MCIgeT0iMTgwIiBmaWxsPSIjMzMzIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCI+Q2FjaGU8L3RleHQ+CiAgICA8dGV4dCB4PSIzMjAiIHk9IjE4MCIgZmlsbD0iIzMzMyIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiPlNERCBCYXNlPC90ZXh0PgogICAgPHRleHQgeD0iNTIwIiB5PSIyODAiIGZpbGw9IiMzMzMiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIj5EZXBsb3ltZW50PC90ZXh0Pgo8L3N2Zz4=" alt="Architecture Diagram" class="img-fluid">
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h6><i class="fas fa-microchip"></i> Stack Technique</h6>
                                    <div>
                                        <span class="tech-badge">FastAPI</span>
                                        <span class="tech-badge">Python 3.11+</span>
                                        <span class="tech-badge">PostgreSQL</span>
                                        <span class="tech-badge">Supabase</span>
                                        <span class="tech-badge">Redis</span>
                                        <span class="tech-badge">Claude AI</span>
                                        <span class="tech-badge">WAHA SDK</span>
                                        <span class="tech-badge">Docker</span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6><i class="fas fa-check-circle"></i> Status Implementation</h6>
                                    <div>
                                        <span class="status-badge status-completed">Webhook</span>
                                        <span class="status-badge status-completed">AI Services</span>
                                        <span class="status-badge status-completed">Database</span>
                                        <span class="status-badge status-completed">WhatsApp</span>
                                        <span class="status-badge status-progress">SDB Integration</span>
                                        <span class="status-badge status-planned">Admin Dashboard</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Services Section -->
                <section id="services" class="mb-5">
                    <div class="card section-card">
                        <div class="section-header">
                            <h2><i class="fas fa-cogs"></i> Services IA Intégrés</h2>
                            <p class="mb-0">Trois services principaux avec orchestration IA</p>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <!-- RENSEIGNEMENT Service -->
                                <div class="col-lg-4 mb-4">
                                    <div class="card h-100">
                                        <div class="card-body text-center">
                                            <i class="feature-icon fas fa-info-circle"></i>
                                            <h5>RENSEIGNEMENT</h5>
                                            <p class="text-muted">Service d'information général</p>
                                            <ul class="list-unstyled text-start">
                                                <li><i class="fas fa-check text-success"></i> Horaires et lieux</li>
                                                <li><i class="fas fa-check text-success"></i> Procédures d'inscription</li>
                                                <li><i class="fas fa-check text-success"></i> Informations tarifaires</li>
                                                <li><i class="fas fa-check text-success"></i> Contacts utiles</li>
                                            </ul>
                                            <div class="mt-3">
                                                <small class="text-muted">Confidence: ≥ 0.7</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- CATECHESE Service -->
                                <div class="col-lg-4 mb-4">
                                    <div class="card h-100">
                                        <div class="card-body text-center">
                                            <i class="feature-icon fas fa-pray"></i>
                                            <h5>CATECHESE</h5>
                                            <p class="text-muted">Service catéchèse avec authentification</p>
                                            <ul class="list-unstyled text-start">
                                                <li><i class="fas fa-check text-success"></i> Versets bibliques</li>
                                                <li><i class="fas fa-check text-success"></i> Prières et enseignements</li>
                                                <li><i class="fas fa-check text-success"></i> Informations sacramentelles</li>
                                                <li><i class="fas fa-check text-success"></i> Accès données étudiants</li>
                                            </ul>
                                            <div class="mt-3">
                                                <small class="text-muted">Confidence: ≥ 0.8 | Code parent requis</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- CONTACT_HUMAIN Service -->
                                <div class="col-lg-4 mb-4">
                                    <div class="card h-100">
                                        <div class="card-body text-center">
                                            <i class="feature-icon fas fa-user-tie"></i>
                                            <h5>CONTACT_HUMAIN</h5>
                                            <p class="text-muted">Transfert vers agent humain</p>
                                            <ul class="list-unstyled text-start">
                                                <li><i class="fas fa-check text-success"></i> Situations complexes</li>
                                                <li><i class="fas fa-check text-success"></i> Plaintes et réclamations</li>
                                                <li><i class="fas fa-check text-success"></i> Soutien émotionnel</li>
                                                <li><i class="fas fa-check text-success"></i> Urgences pastorales</li>
                                            </ul>
                                            <div class="mt-3">
                                                <small class="text-muted">Confidence: ≥ 0.9 | Horaires: 9h-17h</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-4">
                                <div class="col-12">
                                    <h6><i class="fas fa-brain"></i> Capacités IA</h6>
                                    <div class="row">
                                        <div class="col-md-3 mb-3">
                                            <div class="text-center">
                                                <i class="fas fa-language fa-2x text-primary mb-2"></i>
                                                <p class="mb-0">Détection Langue</p>
                                                <small class="text-muted">Français, Anglais, Wolof</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3 mb-3">
                                            <div class="text-center">
                                                <i class="fas fa-bullseye fa-2x text-primary mb-2"></i>
                                                <p class="mb-0">Classification Intention</p>
                                                <small class="text-muted">Routing automatique</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3 mb-3">
                                            <div class="text-center">
                                                <i class="fas fa-exclamation-triangle fa-2x text-danger mb-2"></i>
                                                <p class="mb-0">Détection Urgence</p>
                                                <small class="text-muted">Analyse sentimentale</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3 mb-3">
                                            <div class="text-center">
                                                <i class="fas fa-file-alt fa-2x text-primary mb-2"></i>
                                                <p class="mb-0">Résumé Conversation</p>
                                                <small class="text-muted">Génération automatique</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- API Section -->
                <section id="api" class="mb-5">
                    <div class="card section-card">
                        <div class="section-header">
                            <h2><i class="fas fa-code"></i> API Endpoints</h2>
                            <p class="mb-0">Documentation des routes et fonctionnalités</p>
                        </div>
                        <div class="card-body">
                            <ul class="nav nav-pills mb-4" id="apiTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="webhook-tab" data-bs-toggle="pill" data-bs-target="#webhook" type="button">Webhook</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="orchestrate-tab" data-bs-toggle="pill" data-bs-target="#orchestrate" type="button">Orchestration</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="sessions-tab" data-bs-toggle="pill" data-bs-target="#sessions" type="button">Sessions</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="admin-tab" data-bs-toggle="pill" data-bs-target="#admin" type="button">Admin</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="health-tab" data-bs-toggle="pill" data-bs-target="#health" type="button">Health</button>
                                </li>
                            </ul>

                            <div class="tab-content" id="apiTabContent">
                                <!-- Webhook Tab -->
                                <div class="tab-pane fade show active" id="webhook" role="tabpanel">
                                    <h5><i class="fas fa-webhook"></i> Webhook WhatsApp</h5>
                                    <div class="code-block">
<pre><code class="language-json">POST /api/v1/webhook
Content-Type: application/json

{
  "event": "message",
  "session": "default",
  "payload": {
    "from": "221765005555",
    "id": "message_id",
    "timestamp": 1234567890,
    "body": "Bonjour, je voudrais des informations",
    "fromMe": false,
    "hasMedia": false
  }
}</code></pre>
                                    </div>
                                    <p><strong>Événements supportés:</strong> message, message.any, message.reaction, message.ack, message.revoked</p>
                                </div>

                                <!-- Orchestrate Tab -->
                                <div class="tab-pane fade" id="orchestrate" role="tabpanel">
                                    <h5><i class="fas fa-magic"></i> Orchestration IA</h5>
                                    <div class="code-block">
<pre><code class="language-json">POST /api/v1/orchestrate
Content-Type: application/json
Authorization: Bearer token

{
  "phone_number": "+221765005555",
  "message": "User message content",
  "session_id": "optional-session-id",
  "metadata": {}
}</code></pre>
                                    </div>
                                    <p><strong>Réponse typique:</strong> Session ID, réponse IA, service utilisé, score de confiance</p>
                                </div>

                                <!-- Sessions Tab -->
                                <div class="tab-pane fade" id="sessions" role="tabpanel">
                                    <h5><i class="fas fa-comments"></i> Gestion Sessions</h5>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6>GET /api/v1/sessions/{session_id}</h6>
                                            <p class="text-muted">Récupérer les informations d'une session</p>
                                        </div>
                                        <div class="col-md-6">
                                            <h6>POST /api/v1/sessions</h6>
                                            <p class="text-muted">Créer une nouvelle session utilisateur</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Admin Tab -->
                                <div class="tab-pane fade" id="admin" role="tabpanel">
                                    <h5><i class="fas fa-user-shield"></i> Administration</h5>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <h6>GET /api/v1/admin/stats</h6>
                                            <p class="text-muted">Statistiques d'utilisation</p>
                                        </div>
                                        <div class="col-md-4">
                                            <h6>GET /api/v1/admin/sessions</h6>
                                            <p class="text-muted">Liste des sessions actives</p>
                                        </div>
                                        <div class="col-md-4">
                                            <h6>GET /api/v1/admin/health/detailed</h6>
                                            <p class="text-muted">Santé détaillée du système</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Health Tab -->
                                <div class="tab-pane fade" id="health" role="tabpanel">
                                    <h5><i class="fas fa-heartbeat"></i> Health Checks</h5>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <h6>GET /api/v1/health</h6>
                                            <p class="text-muted">Vérification de santé basique</p>
                                        </div>
                                        <div class="col-md-4">
                                            <h6>GET /api/v1/version</h6>
                                            <p class="text-muted">Information version</p>
                                        </div>
                                        <div class="col-md-4">
                                            <h6>GET /api/v1/config</h6>
                                            <p class="text-muted">Diagnostic configuration</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Database Section -->
                <section id="database" class="mb-5">
                    <div class="card section-card">
                        <div class="section-header">
                            <h2><i class="fas fa-database"></i> Base de Données</h2>
                            <p class="mb-0">Schéma et structure des données</p>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-lg-6 mb-4">
                                    <h6><i class="fas fa-table"></i> Tables Principales</h6>
                                    <div class="table-responsive">
                                        <table class="table table-sm">
                                            <thead class="table-dark">
                                                <tr>
                                                    <th>Table</th>
                                                    <th>Description</th>
                                                    <th>Enregistrements</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td><code>users</code></td>
                                                    <td>Profils utilisateurs WhatsApp</td>
                                                    <td>UUID, téléphone, préférences</td>
                                                </tr>
                                                <tr>
                                                    <td><code>sessions</code></td>
                                                    <td>Sessions de conversation</td>
                                                    <td>État, contexte, service actif</td>
                                                </tr>
                                                <tr>
                                                    <td><code>interactions</code></td>
                                                    <td>Interactions individuelles</td>
                                                    <td>Messages IA, scores, métadonnées</td>
                                                </tr>
                                                <tr>
                                                    <td><code>services</code></td>
                                                    <td>Catalogue de services</td>
                                                    <td>Configurations, capacités</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="col-lg-6 mb-4">
                                    <h6><i class="fas fa-project-diagram"></i> Relations Schéma</h6>
                                    <div class="code-block">
<pre><code class="language-sql">Users (1) ←→ (N) Sessions (1) ←→ (N) Interactions
    ↓                                    ↓
SDB Schema ←→ Service Management ←→ AI Orchestration</code></pre>
                                    </div>
                                    
                                    <h6 class="mt-3"><i class="fas fa-shield-alt"></i> Sécurité</h6>
                                    <ul>
                                        <li>Row Level Security (RLS)</li>
                                        <li>Validation des entrées</li>
                                        <li>Chiffrement des données sensibles</li>
                                        <li>Audit logging complet</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="row mt-4">
                                <div class="col-12">
                                    <h6><i class="fas fa-chart-bar"></i> Indexation Optimisée</h6>
                                    <div class="code-block">
<pre><code class="language-sql">-- Performance queries
CREATE INDEX idx_users_phone_number ON users(phone_number);
CREATE INDEX idx_sessions_user_id ON sessions(user_id);
CREATE INDEX idx_interactions_session_id ON interactions(session_id);
CREATE INDEX idx_interactions_created_at ON interactions(created_at);

-- Analytics queries  
CREATE INDEX idx_interactions_service ON interactions(service);
CREATE INDEX idx_interactions_confidence_score ON interactions(confidence_score);</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Data Flows Section -->
                <section id="flows" class="mb-5">
                    <div class="card section-card">
                        <div class="section-header">
                            <h2><i class="fas fa-project-diagram"></i> Flux de Données</h2>
                            <p class="mb-0">Processus de traitement des messages</p>
                        </div>
                        <div class="card-body">
                            <h5>Flux de Message Standard</h5>
                            <div class="architecture-diagram">
                                <div class="text-center">
                                    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MDAiIGhlaWdodD0iNjAwIiB2aWV3Qm94PSIwIDAgODAwIDYwMCI+CiAgICA8IS0tIEJhY2tncm91bmQgLS0+CiAgICA8cmVjdCB3aWR0aD0iODAwIiBoZWlnaHQ9IjYwMCIgZmlsbD0iI2Y4ZjlmYSIgc3Ryb2tlPSIjZGRkIiBzdHJva2Utd2lkdGg9IjIiLz4KCiAgICA8IS0tIEZsb3cgU3RlcHMgLS0+CiAgICA8IS0tIFN0ZXAgMTogSW5jb21pbmcgTWVzc2FnZSAtLT4KICAgIDxyZWN0IHg9IjUwIiB5PSI1MCIgd2lkdGg9IjE4MCIgaGVpZ2h0PSI2MCIgZmlsbD0iIzAwZDRhYSIgcng9IjEwIiBzdHJva2U9IiMwMDk5NzciIHN0cm9rZS13aWR0aD0iMiIvPgogICAgPHRleHQgeD0iMTQwIiB5PSI4NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0id2hpdGUiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIj5XaGF0c0FwcCBVc2VyPC90ZXh0PgoKICAgIDwhLS0gU3RlcCAyOiBXQUhBIFJlY2VwdGlvbiAtLT4KICAgIDxyZWN0IHg9IjI4MCIgeT0iNTAiIHdpZHRoPSIxODAiIGhlaWdodD0iNjAiIGZpbGw9IiM2NjdlZWEiIHJ4PSIxMCIgc3Ryb2tlPSIjNTU1OGZmIiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDx0ZXh0IHg9IjM3MCIgeT0iODUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCI+V0FIQSBSZWNlaXB0aW9uPC90ZXh0PgoKICAgIDwhLS0gU3RlcCAzOiBXZWJob29rIFByb2Nlc3NpbmcgLS0+CiAgICA8cmVjdCB4PSI1MTAiIHk9IjUwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjNzY0YmEyIiByeD0iMTAiIHN0cm9rZT0iIzUzNDQ4NCIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8dGV4dCB4PSI2MDAiIHk9Ijg1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiPldlYmhvb2sgUHJvY2Vzc2luZzwvdGV4dD4KCiAgICA8IS0tIFN0ZXAgNDogQ0xBSURFIE9yY2hlc3RyYXRpb24gLS0+CiAgICA8cmVjdCB4PSI3NDAiIHk9IjUwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjZmY2YjZiIiByeD0iMTAiIHN0cm9rZT0iI2U2NWFjNCIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8dGV4dCB4PSI4MzAiIHk9Ijg1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiPkNMQVVERSBBSSBQcm9jZXNzaW5nPC90ZXh0PgoKICAgIDwhLS0gU3RlcCA1OiBEYXRhYmFzZSBPcGVyYXRpb25zIC0tPgogICAgPHJlY3QgeD0iMjgwIiB5PSIyMDAiIHdpZHRoPSIxODAiIGhlaWdodD0iNjAiIGZpbGw9IiMwMGQ0YWEiIHJ4PSIxMCIgc3Ryb2tlPSIjMDA5OTc3IiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDx0ZXh0IHg9IjM3MCIgeT0iMjM1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiPlVzZXIgTWFuYWdlbWVudDwvdGV4dD4KCiAgICA8IS0tIFN0ZXAgNjogU2Vzc2lvbiBIYW5kbGluZyAtLT4KICAgIDxyZWN0IHg9IjUxMCIgeT0iMjAwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjNmM3NWdkIiByeD0iMTAiIHN0cm9rZT0iIzU1YTY2NCIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8dGV4dCB4PSI2MDAiIHk9IjIzNSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0id2hpdGUiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIj5TZXNzaW9uIE1hbmFnZW1lbnQ8L3RleHQ+CgogICAgPCEtLSBTdGVwIDc6IENhY2hlIE9wZXJhdGlvbnMgLS0+CiAgICA8cmVjdCB4PSI3NDAiIHk9IjIwMCIgd2lkdGg9IjE4MCIgaGVpZ2h0PSI2MCIgZmlsbD0iI2RjMzI0NSIgcng9IjEwIiBzdHJva2U9IiNjODIyMjkiIHN0cm9rZS13aWR0aD0iMiIvPgogICAgPHRleHQgeD0iODMwIiB5PSIyMzUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCI+UmVkaXMgQ2FjaGU8L3RleHQ+CgogICAgPCEtLSBTdGVwIDg6IFJlc3BvbnNlIEdlbmVyYXRpb24gLS0+CiAgICA8cmVjdCB4PSI0MTUiIHk9IjM1MCIgd2lkdGg9IjE4MCIgaGVpZ2h0PSI2MCIgZmlsbD0iIzI4YTc0NSIgcng9IjEwIiBzdHJva2U9IiMxOTc2ZDIiIHN0cm9rZS13aWR0aD0iMiIvPgogICAgPHRleHQgeD0iNTA1IiB5PSIzODUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCI+UmVzcG9uc2UgR2VuZXJhdGlvbjwvdGV4dD4KCiAgICA8IS0tIFN0ZXAgOTogTWVzc2FnZSBEZWxpdmVyeSAtLT4KICAgIDxyZWN0IHg9IjUxMCIgeT0iMzUwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjNjY3ZWVhIiByeD0iMTAiIHN0cm9rZT0iIzU1NThmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8dGV4dCB4PSI2MDAiIHk9IjM4NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0id2hpdGUiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIj5XQUhBIFNlbmQgTWVzc2FnZTwvdGV4dD4KCiAgICA8IS0tIFN0ZXAgMTA6IEludGVyYWN0aW9uIExvZ2dpbmcgLS0+CiAgICA8cmVjdCB4PSIyODAiIHk9IjM1MCIgd2lkdGg9IjE4MCIgaGVpZ2h0PSI2MCIgZmlsbD0iIzc2NGJhMiIgcng9IjEwIiBzdHJva2U9IiM1MzQ0ODQiIHN0cm9rZS13aWR0aD0iMiIvPgogICAgPHRleHQgeD0iMzcwIiB5PSIzODUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCI+SW50ZXJhY3Rpb24gTG9nZ2luZzwvdGV4dD4KCiAgICA8IS0tIEFycm93cyAtLT4KICAgIDxkZWZzPgogICAgICAgIDxtYXJrZXIgaWQ9ImFycm93aGVhZCIgbWFya2VyV2lkdGg9IjEwIiBtYXJrZXJIZWlnaHQ9IjEwIiBvcmllbnQ9ImF1dG8iIHJlZnV4eT0iMC41Ii8+CiAgICA8L2RlZnM+CiAgICA8bGluZSB4MT0iMjMwIiB5MT0iODAiIHgyPSIyODAiIHkyPSI4MCIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkKSIvPgogICAgPGxpbmUgeDE9IjQ2MCIgeTE9IjgwIiB4Mj0iNTEwIiB5Mj0iODAiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZCkiLz4KICAgIDxsaW5lIHg9IjY5MCIgeTE9IjgwIiB4Mj0iNzQwIiB5Mj0iODAiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZCkiLz4KICAgIDxsaW5lIHg9IjgzMCIgeTE9IjgwIiB4Mj0iODMwIiB5Mj0iMjAwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQpIi8+CiAgICA8bGluZSB4MT0iMzcwIiB5MT0iMjYwIiB4Mj0iMzcwIiB5Mj0iMjAwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQpIi8+CiAgICA8bGluZSB4MT0iNjAwIiB5MT0iMjYwIiB4Mj0iNjAwIiB5Mj0iMjAwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQpIi8+CiAgICA8bGluZSB4MT0iODMwIiB5MT0iMjYwIiB4Mj0iODMwIiB5Mj0iMjAwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQpIi8+CiAgICA8bGluZSB4MT0iNjAwIiB5MT0iMjYwIiB4Mj0iNTA1IiB5Mj0iMzUwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQpIi8+CiAgICA8bGluZSB4MT0iNTA1IiB5MT0iMzgwIiB4Mj0iNTEwIiB5Mj0iMzUwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQpIi8+CiAgICA8bGluZSB4MT0iNTEwIiB5MT0iMzgwIiB4Mj0iNjAwIiB5Mj0iMzUwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQpIi8+CiAgICA8bGluZSB4MT0iNjAwIiB5MT0iMzgwIiB4Mj0iNjAwIiB5Mj0iMjMwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQpIi8+CiAgICA8bGluZSB4MT0iNjAwIiB5MT0iMjMwIiB4Mj0iMzcwIiB5Mj0iMjMwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQpIi8+CgogICAgPCEtLSBQcm9jZXNzIGRlc2NyaXB0aW9uIC0tPgogICAgPHRleHQgeD0iNDAiIHk9IjE1MCIgZmlsbD0iIzY2NiIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkZsdXggZGUgVHJhaXRlbWVudCBkZSBNZXNzYWdlPC90ZXh0PgogICAgPHRleHQgeD0iNDAiIHk9IjQ4MCIgZmlsbD0iIzMzMyIgZm9udC1zaXplPSIxMiI+MS4gVXRpbGlzYXRldXIgZW52b2llIG1lc3NhZ2UgV2hhdHNBcHAg4oCTIFdBSEEgcmVjb2l0IG1lc3NhZ2Ug4oCTIFdlYmhvb2sgcmVjb2l0IG1lc3NhZ2UgZW52b3fDqSBhdXggc2VydmljZSB3ZWJob29rLjwvdGV4dD4KICAgIDx0ZXh0IHg9IjQwIiB5PSI1MDAiIGZpbGw9IiMzMzMiIGZvbnQtc2l6ZT0iMTIiPjIuIFbDqXJpZmljYXRpb24gZHUgbnVtw6lybyBkZSB0w6lsw6lwaG9uZSAoRTE2NCkgZXQgY8OydnnDqHRpb24gZGUgbGEgc2Vzc2lvbi4gVGVzdCBkZSBsaW1pdGUgZGUgdGF1eC4gQ3LDqWF0aW9uIG91IHLDqWN1w6hyYXRpb24gZGUgbCd1dGlsaXNhdGV1ci48L3RleHQ+CiAgICA8dGV4dCB4PSI0MCIgeT0iNTIwIiBmaWxsPSIjMzMzIiBmb250LXNpemU9IjEyIj4zLiBDaGVyY2hlciBsZSB0eXBlIGRlIG1lc3NhZ2UgKHRleHRlLCBpbWFnZSwgYXVkaW8sIGV0Yy4pIGV0IGRpcmlnZXIgbGVzIGRvbm7DqWVzIGF1eCBzZXJ2aWNlcyBhcHByb3ByacOpcy48L3RleHQ+CiAgICA8dGV4dCB4PSI0MCIgeT0iNTQwIiBmaWxsPSIjMzMzIiBmb250LXNpemU9IjEyIj40LiBDbGFzc2lmaWNhdGlvbiBkJ2ludGVudGlvbiBldCByb3V0YWdlIHZlcnMgbGUgc2VydmljZSBjb3JyZXNwb25kYW50IChSRU5TRUlHTkVNRU5ULCBDQVRFQ0hFU0UsIENPTlRBQ1RfSFVNQUlOKS48L3RleHQ+Cjwvc3ZnPgo=" alt="Message Flow Diagram" class="img-fluid flow-diagram">
                                </div>
                            </div>

                            <div class="row mt-4">
                                <div class="col-md-6">
                                    <h6><i class="fas fa-clock"></i> Temps de Traitement</h6>
                                    <ul>
                                        <li>Webhook: &lt; 100ms</li>
                                        <li>Orchestration IA: 1-3 secondes</li>
                                        <li>Base de données: &lt; 50ms</li>
                                        <li>Cache Redis: &lt; 10ms</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><i class="fas fa-shield-alt"></i> Sécurité Flux</h6>
                                    <ul>
                                        <li>Validation entrée webhook</li>
                                        <li>Limitation de taux par utilisateur</li>
                                        <li>Vérification format téléphone</li>
                                        <li>Journalisation d'audit complète</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Deployment Section -->
                <section id="deployment" class="mb-5">
                    <div class="card section-card">
                        <div class="section-header">
                            <h2><i class="fas fa-rocket"></i> Déploiement</h2>
                            <p class="mb-0">Configuration et environnement de production</p>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-lg-6 mb-4">
                                    <h6><i class="fas fa-cogs"></i> Configuration Requise</h6>
                                    <div class="code-block">
<pre><code class="language-bash"># Variables d'environnement essentielles
ANTHROPIC_AUTH_TOKEN=votre_clé_api_anthropic
WAHA_BASE_URL=https://votre-waha-instance.com
WAHA_API_TOKEN=votre_token_waha
SUPABASE_URL=https://votre-projet.supabase.co
SUPABASE_SERVICE_ROLE_KEY=votre_clé_service
REDIS_URL=redis://localhost:6379/0

# Configuration application
WEBHOOK_VERIFY_TOKEN=token_webhook_secret
SESSION_TIMEOUT_MINUTES=30
RATE_LIMIT_PER_MINUTE=10
TZ=Africa/Dakar</code></pre>
                                    </div>
                                </div>
                                <div class="col-lg-6 mb-4">
                                    <h6><i class="fas fa-docker"></i> Docker Compose</h6>
                                    <div class="code-block">
<pre><code class="language-yaml">version: '3.8'
services:
  app:
    build: .
    ports:
      - "8000:8000"
    environment:
      - NODE_ENV=production
    depends_on:
      - redis
      - db
  
  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
  
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-4">
                                <div class="col-12">
                                    <h6><i class="fas fa-server"></i> Infrastructure Coolify</h6>
                                    <div class="metrics-card">
                                        <span class="metrics-number">3</span>
                                        <p>Services Déployés</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Security Section -->
                <section id="security" class="mb-5">
                    <div class="card section-card">
                        <div class="section-header">
                            <h2><i class="fas fa-shield-alt"></i> Sécurité</h2>
                            <p class="mb-0">Mesures de sécurité et protection des données</p>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <div class="text-center">
                                        <i class="feature-icon fas fa-lock"></i>
                                        <h5>Authentification</h5>
                                        <p>Jetons API, vérification webhook, authentification JWT pour endpoints administratifs</p>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="text-center">
                                        <i class="feature-icon fas fa-user-shield"></i>
                                        <h5>Protection Données</h5>
                                        <p>Chiffrement des données sensibles, validation d'entrée, RLS policies</p>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="text-center">
                                        <i class="feature-icon fas fa-gavel"></i>
                                        <h5>Conformité</h5>
                                        <p>Audit logging, respect RGPD, gestion consentement utilisateur</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Monitoring Section -->
                <section id="monitoring" class="mb-5">
                    <div class="card section-card">
                        <div class="section-header">
                            <h2><i class="fas fa-chart-line"></i> Monitoring & Analytics</h2>
                            <p class="mb-0">Surveillance et analyse des performances</p>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-3 mb-3">
                                    <div class="text-center">
                                        <div class="metrics-card mb-3">
                                            <span class="metrics-number">99.9%</span>
                                            <p>Uptime</p>
                                        </div>
                                        <p>Disponibilité service</p>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="text-center">
                                        <div class="metrics-card mb-3">
                                            <span class="metrics-number">&lt;3s</span>
                                            <p>Temps Réponse</p>
                                        </div>
                                        <p>Orchestration IA</p>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="text-center">
                                        <div class="metrics-card mb-3">
                                            <span class="metrics-number">24/7</span>
                                            <p>Monitoring</p>
                                        </div>
                                        <p>Surveillance continue</p>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="text-center">
                                        <div class="metrics-card mb-3">
                                            <span class="metrics-number">∞</span>
                                            <p>Scalabilité</p>
                                        </div>
                                        <p>Scaling horizontal</p>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-4">
                                <div class="col-12">
                                    <h6><i class="fas fa-heartbeat"></i> Health Checks</h6>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <p><strong>Basic Health:</strong> <code>/api/v1/health</code></p>
                                            <p class="text-muted">Statut général du système</p>
                                        </div>
                                        <div class="col-md-4">
                                            <p><strong>Detailed Health:</strong> <code>/api/v1/admin/health/detailed</code></p>
                                            <p class="text-muted">Métriques détaillées composants</p>
                                        </div>
                                        <div class="col-md-4">
                                            <p><strong>Config Status:</strong> <code>/api/v1/config</code></p>
                                            <p class="text-muted">Diagnostic configuration (sans données sensibles)</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Conclusion Section -->
                <section class="mb-5">
                    <div class="card section-card">
                        <div class="section-header">
                            <h2><i class="fas fa-flag-checkered"></i> Conclusion</h2>
                            <p class="mb-0">Résumé et prochaines étapes</p>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6><i class="fas fa-check-circle text-success"></i> Accompli</h6>
                                    <ul>
                                        <li>Architecture microservices robuste</li>
                                        <li>Intégration WhatsApp complète</li>
                                        <li>Orchestration IA avec Claude</li>
                                        <li>Base de données optimisée</li>
                                        <li>Sécurité multi-niveaux</li>
                                        <li>Monitoring et analytics</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><i class="fas fa-road text-warning"></i> Roadmap</h6>
                                    <ul>
                                        <li>Intégration SDB complète</li>
                                        <li>Tableau de bord administrateur</li>
                                        <li>Support multi-canal</li>
                                        <li>Analytics avancées</li>
                                        <li>Tests automatisés</li>
                                        <li>Documentation API complète</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h6>WhatsApp AI Concierge</h6>
                    <p class="mb-0">Service de messagerie intelligent pour le Service Diocésain de la Catéchèse</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-0">Développé avec <i class="fas fa-heart text-danger"></i> pour SDB</p>
                    <small class="text-muted">Version 1.0.0 | Dernière mise à jour: <span id="currentDate"></span></small>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button class="scroll-to-top" id="scrollToTop">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    
    <script>
        // Set current date
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString('fr-FR');

        // Scroll to top functionality
        const scrollToTopBtn = document.getElementById('scrollToTop');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.style.display = 'flex';
            } else {
                scrollToTopBtn.style.display = 'none';
            }
        });

        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Active navigation highlighting
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (window.pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });

        // Add animation to cards on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(card);
        });
    </script>
</body>
</html>